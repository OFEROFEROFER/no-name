import{$ as U,V as E,W as F,Z as z,_ as A,d as j,e as B,j as D}from"./chunk-DCTQMJEO.js";import{$ as _,$b as s,Ab as M,Ac as S,Cc as b,Dc as T,Ec as R,Fb as d,Gb as p,Hb as v,Mb as w,Ub as g,Vb as h,Ya as P,Yb as I,Za as C,ab as a,ac as l,bb as c,bc as O,oa as x,ra as u,tb as y,vb as f}from"./chunk-6VN5NK4L.js";var $=(()=>{let e=class e{constructor(i){this.sanitizer=i}transform(i,...n){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}};e.\u0275fac=function(n){return new(n||e)(c(j,16))},e.\u0275pipe=u({name:"videoUrl",type:e,pure:!0,standalone:!0});let t=e;return t})();var q=(()=>{let e=class e{constructor(){this.youtubePrefix="https://www.youtube.com/embed/"}transform(i,...n){let o=null;if(i){let m=i.filter(N=>N.type==="Trailer");m.length>0&&(o=m[0].key)}return o?`${this.youtubePrefix}${o}`:""}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=u({name:"extractTrailer",type:e,pure:!0,standalone:!0});let t=e;return t})();function G(t,e){if(t&1&&(v(0,"iframe",8),s(1,"extractTrailer"),s(2,"videoUrl")),t&2){let r=w();f("src",l(2,3,l(1,1,r.videos.results)),C)}}function H(t,e){if(t&1&&(d(0,"div",0)(1,"h2"),g(2),p(),d(3,"div",1)(4,"div"),g(5),s(6,"date"),p(),v(7,"app-star-rating",2),p(),d(8,"div",3)(9,"div",4),v(10,"img",5),s(11,"image"),p(),y(12,G,3,5,"iframe",6),s(13,"extractTrailer"),p(),d(14,"div",7),g(15),p()()),t&2){let r=e;a(2),h(r.title),a(3),h(O(6,7,r.release_date,"yyyy")),a(2),f("rating",r.vote_average)("votes",r.vote_count),a(3),f("src",l(11,10,r.poster_path),P),a(2),f("ngIf",l(13,12,r.videos.results)),a(3),h(r.overview)}}var ae=(()=>{let e=class e{constructor(i,n,o){this.persistentService=i,this.moviesApiService=n,this.actionRoute=o}ngOnInit(){let i=+this.actionRoute.snapshot.queryParamMap.get("id");this.info$=this.moviesApiService.getMoviesInfo(i).pipe(_(n=>{}))}};e.\u0275fac=function(n){return new(n||e)(c(U),c(A),c(B))},e.\u0275cmp=x({type:e,selectors:[["app-info"]],standalone:!0,features:[I],decls:2,vars:3,consts:[[1,"page_container"],[1,"title"],[3,"rating","votes"],[1,"poster_container"],[1,"image_container"],["appFallback","",3,"src"],["class","trailer","frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],[1,"overview"],["frameborder","0","allowfullscreen","",1,"trailer",3,"src"]],template:function(n,o){if(n&1&&(y(0,H,16,14,"div",0),s(1,"async")),n&2){let m;M(0,(m=l(1,1,o.info$))?0:-1,m)}},dependencies:[D,R,S,b,T,E,F,$,q,z],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .page_container[_ngcontent-%COMP%]{width:80vh}[_nghost-%COMP%]   .page_container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}[_nghost-%COMP%]   .page_container[_ngcontent-%COMP%]   .poster_container[_ngcontent-%COMP%]{height:40vh;display:flex;flex-wrap:nowrap;justify-content:flex-start}.trailer[_ngcontent-%COMP%]{flex:1}.image_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill}.overview[_ngcontent-%COMP%]{overflow:auto;height:7.5em}"]});let t=e;return t})();export{ae as InfoComponent};
